<!-- search.html -->
{% extends 'courses/base.html' %}
{% load course_custom_tags %}
{%block title%}Courses
{% endblock %}

{%block content%}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Courses</title>
    <style>
       .card {
            margin: 10px;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s ease-in-out;
        }
        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }
        .card-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            transition: font-size 0.3s ease-in-out;
        }
      .card-title:hover 
      {
    font-size: 26px;
      }
        .card-text {
            font-size: 18px;
            color: #6c757d;
            transition: color 0.3s ease-in-out;
        }

        .btn {
            border-radius: 10px;
            background-color: #333;
            transition: background-color 0.3s ease-in-out;
        }
        .btn:hover  {
            background-color: cadetblue;
            color: #fff;
        }
      
        .card-img-top {
            object-fit: contain;
            height: 200px;
            transition: transform 0.3s ease-in-out;
        }
        .card-img-top:hover {
            transform: scale(1.1);
        }
        .course-description {
            height: 0;
            overflow: hidden;
            transition: height 0.5s ease-in-out;
        }
        .card:hover .course-description {
            height: 100px;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">Search Courses</h1>
     {% if results %}
     {% for course in results %}
     {% if forloop.counter0|divisibleby:3 %} {# Start a new carousel item for every third course #}
     <div class="carousel-item {% if forloop.first %}active{% endif %}">
         <div class="row">
             {% endif %}
             <div class="col-md-4">
                 <div class="card">
                     <img class="card-img-top" src="{{ course.thumbnail.url }}" alt="Card image cap">
                     <div class="card-body">
                         <h5 class="card-title">{{ course.name }}</h5>
                         <p class="card-text">
                             Save {{ course.discount }}%
                             <br>
                             <span class="price">
                                 <del>{{ course.price|rupee }}</del>
                                 &nbsp;
                                 <span style="color: #3f51b5;">{% cal_sellprice course.price course.discount as value %} {{ value|rupee }}</span>
                             </span>
                         </p>
                         <div class="course-description">
                             {{ course.description }}
                         </div>
                     </div>
                     <div class="card-footer">
                         <a href="/course/{{ course.slug }}" class="btn btn-primary btn-block">Enroll Now</a>
                     </div>
                 </div>
             </div>
             {% if forloop.last or forloop.counter|divisibleby:3 %} {# Close the carousel item for the last course or every third course #}
         </div>
     </div>
     {% endif %}
                    {% endfor %}
    {% else %}
        <p>No results found.</p>
    {% endif %}

    {% endblock%}
</body>
</html>
